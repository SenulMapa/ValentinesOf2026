<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For You ğŸ€</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Nunito:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@1,400;1,700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ€</text></svg>">
</head>
<body>
    <!-- Floating Background Elements -->
    <div class="bg-elements" id="bg-elements"></div>

    <!-- Main App Container -->
    <div id="app">
        <!-- Screen 1: Locked -->
        <section id="screen-locked" class="screen active-screen">
            <div class="content-box">
                <h1>Patience, pretty ğŸ¤</h1>
                <p>This surprise is locked until the right moment.</p>
                <div id="timer">00:00:00</div>
                <p class="sub-text">Come back between 01:10 AM & 01:20 AM</p>
            </div>
            <div id="bypass-trigger" onclick="triggerBypass()">ğŸ”’</div>
        </section>

        <!-- Screen 2: Intro -->
        <section id="screen-intro" class="screen hidden">
            <div class="content-box">
                <h1>Hey beautiful... ğŸ‘€</h1>
                <p>I made a little something just for you.</p>
                <button class="btn-primary" onclick="switchScreen('intro', 'proposal')">Continue âœ¨</button>
            </div>
        </section>

        <!-- Screen 3: Proposal -->
        <section id="screen-proposal" class="screen hidden">
            <div class="content-box">
                <h1>Will you be my Valentine? ğŸ’Œ</h1>
                <div class="button-group">
                    <button id="btn-yes" class="btn-primary" onclick="handleYes()">Yes! ğŸ’–</button>
                    <button id="btn-no" class="btn-secondary">No ğŸ˜</button>
                </div>
            </div>
        </section>

        <!-- Screen 4: Coke Game -->
        <section id="screen-coke" class="screen hidden">
            <div class="content-box">
                <h1>Okay but first... ğŸ¥¤</h1>
                <p>Tap the Coke can 7 times to prove you're thirsty for this playlist</p>
                <div class="coke-can" id="cokeCan">ğŸ¥¤</div>
                <div class="coke-count" id="cokeCount">0 / 7</div>
                <div class="coke-progress">
                    <div class="coke-progress-fill" id="cokeProgress"></div>
                </div>
                <p id="cokeMessage">Keep going! Almost there!</p>
            </div>
        </section>

        <!-- Screen 5: Music Player (Redesigned) -->
        <section id="screen-music" class="screen hidden">
            <!-- Fixed Player Header -->
            <div class="player-header">
                <button class="back-btn" onclick="goBackFromMusic()">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="header-info">
                    <h3>Our Mix</h3>
                    <p>Made with love ğŸ’•</p>
                </div>
                <div class="header-time" id="header-time">0:00</div>
            </div>

            <!-- Main Player Content -->
            <div class="player-main">
                <!-- Album Art with Gradient Overlay -->
                <div class="album-art-container">
                    <div class="album-art-wrapper">
                        <div class="album-art" id="album-art">
                            <img id="album-art-image" src="" alt="Album Art" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸµ</text></svg>';">
                            <div class="album-art-overlay"></div>
                        </div>
                        <div class="album-art-shadow"></div>
                    </div>
                    
                    <!-- Song Info -->
                    <div class="song-info">
                        <h2 id="now-playing-title" class="song-title">Select a song</h2>
                        <p id="now-playing-artist" class="song-artist">Tap a song to play</p>
                    </div>
                </div>

                <!-- Progress Section -->
                <div class="progress-section">
                    <div class="progress-bar" id="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                        <div class="progress-handle" id="progress-handle"></div>
                    </div>
                    <div class="time-display">
                        <span id="current-time">0:00</span>
                        <span id="total-time">0:00</span>
                    </div>
                </div>

                <!-- Player Controls -->
                <div class="player-controls">
                    <button class="control-btn secondary-btn" id="shuffle-btn">
                        <i class="fas fa-random"></i>
                    </button>
                    <button class="control-btn" id="prev-btn">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn play-btn" id="play-btn">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="control-btn" id="next-btn">
                        <i class="fas fa-step-forward"></i>
                    </button>
                    <button class="control-btn secondary-btn" id="repeat-btn">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>

                <!-- Volume Control -->
                <div class="volume-section">
                    <i class="fas fa-volume-down"></i>
                    <div class="volume-bar" id="volume-bar">
                        <div class="volume-fill" id="volume-fill"></div>
                    </div>
                    <i class="fas fa-volume-up"></i>
                </div>
            </div>

            </div> <!-- Close player-main -->
        </section> <!-- Close screen-music -->

        <!-- Screen 6: Success -->
        <section id="screen-success" class="screen hidden">
            <div class="content-box">
                <h1>LET'S GOOOO ğŸ’•</h1>
                <p>Best. Answer. Ever.</p>
                <p>Can't wait to celebrate with you!</p>
                <div style="font-size: 4rem; margin-top: 20px;">ğŸ§¸ğŸ’</div>
            </div>
        </section>
    </div>

    <!-- Audio Element (Hidden) -->
    <audio id="audio-player" preload="metadata"></audio>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script src="player.js"></script>
</body>
</html>